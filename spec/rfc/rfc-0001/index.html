<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Empty-scalars not allowed as keys">
<meta name="author" content="...">
<meta name="generator" content="Jekyll v4.1.1">

<meta name="docsearch:language" content="en">
<meta name="docsearch:version" content="4.5">

<title>RFC-0001 · YAML</title>

<link rel="canonical" href="/spec/rfc/rfc-0001/">

<!-- Bootstrap core CSS -->
<link href="/dist/css/bootstrap.css" rel="stylesheet">
<!-- Documentation extras -->


<link href="/assets/css/docs.min.css" rel="stylesheet">

<!-- Favicons -->
<link rel="apple-touch-icon" href="/assets/img/favicons/apple-touch-icon.png" sizes="180x180">
<link rel="icon" href="/assets/img/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
<link rel="icon" href="/assets/img/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
<link rel="manifest" href="/assets/img/favicons/manifest.json">
<link rel="mask-icon" href="/assets/img/favicons/safari-pinned-tab.svg" color="#563d7c">
<link rel="icon" href="/favicon.svg" type="image/svg+xml">
<!-- link rel="icon" href="/assets/img/favicons/favicon.ico" -->
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#563d7c">

<!-- Twitter -->
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@https://twitter.com/yamlnews">
<meta name="twitter:creator" content="@https://twitter.com/yamlnews">
<meta name="twitter:title" content="RFC-0001">
<meta name="twitter:description" content="Empty-scalars not allowed as keys">
<meta name="twitter:image" content="/assets/brand/bootstrap-social-logo.png">

<!-- Facebook -->
<meta property="og:url" content="/spec/rfc/rfc-0001/">
<meta property="og:title" content="RFC-0001">
<meta property="og:description" content="Empty-scalars not allowed as keys">
<meta property="og:type" content="website">
<meta property="og:image" content="/assets/brand/bootstrap-social.png">
<meta property="og:image:type" content="image/png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">


  </head>
  <body>
    <div class="skippy overflow-hidden">
  <div class="container-xl">
    <a class="sr-only sr-only-focusable d-inline-flex p-2 m-1" href="#content">Skip to main content</a></div>
</div>


    <header class="navbar navbar-expand navbar-dark flex-column flex-md-row bd-navbar">
  <a class="navbar-brand mr-0 mr-md-2" href="/" aria-label="Bootstrap"><svg
  xmlns="http://www.w3.org/2000/svg"
  role="img"
  focusable="true"
  viewBox="0 0 110 110"
  
    width="36"
  
  
    height="36"
  
  
    class="d-block"
  
>

  <defs>
    <style>
      .text {
        font-size: 90px;
        fill: none;
        font-family: UbuntuMono-Regular, Ubuntu Mono, Courier;
      }
    </style>
  </defs>

  <rect
    x="5" y="5"
    width="100" height="100"
    rx="12"
    fill="none"
    stroke="currentColor"
    stroke-width="4"
  />

  
  
    <text
      class="text"
      transform="translate(22.5 40) scale(1.1 1)"
    >
      <tspan fill="currentColor" x="7" y="42" >Y</tspan>
    </text>
  

  

</svg>
</a>

  
  
  <div class="navbar-nav-scroll">
    <ul class="navbar-nav bd-navbar-nav flex-row">
      
        
        <li class="nav-item">
            <a class="nav-link" href=""></a>
        </li>
      
        
        <li class="nav-item">
            <a class="nav-link" href="/blog">Blog</a>
        </li>
      
        
        <li class="nav-item">
            <a class="nav-link" href="/doc">Docs</a>
        </li>
      
        
        <li class="nav-item">
            <a class="nav-link active" href="/spec">Spec</a>
        </li>
      

    </ul>
  </div>

  <ul class="navbar-nav ml-md-auto">

    
      
        <li class="nav-item">
          <a class="nav-link pl-2 pr-1 mx-1 py-3 my-n2" href="https://github.com/yaml/www.yaml.com/" target="_blank" rel="noopener" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="navbar-nav-svg" viewBox="0 0 512 499.36" role="img" focusable="false"><title>GitHub</title><path fill="currentColor" fill-rule="evenodd" d="M256 0C114.64 0 0 114.61 0 256c0 113.09 73.34 209 175.08 242.9 12.8 2.35 17.47-5.56 17.47-12.34 0-6.08-.22-22.18-.35-43.54-71.2 15.49-86.2-34.34-86.2-34.34-11.64-29.57-28.42-37.45-28.42-37.45-23.27-15.84 1.73-15.55 1.73-15.55 25.69 1.81 39.21 26.38 39.21 26.38 22.84 39.12 59.92 27.82 74.5 21.27 2.33-16.54 8.94-27.82 16.25-34.22-56.84-6.43-116.6-28.43-116.6-126.49 0-27.95 10-50.8 26.35-68.69-2.63-6.48-11.42-32.5 2.51-67.75 0 0 21.49-6.88 70.4 26.24a242.65 242.65 0 0 1 128.18 0c48.87-33.13 70.33-26.24 70.33-26.24 14 35.25 5.18 61.27 2.55 67.75 16.41 17.9 26.31 40.75 26.31 68.69 0 98.35-59.85 120-116.88 126.32 9.19 7.9 17.38 23.53 17.38 47.41 0 34.22-.31 61.83-.31 70.23 0 6.85 4.61 14.81 17.6 12.31C438.72 464.97 512 369.08 512 256.02 512 114.62 397.37 0 256 0z"/></svg></a>
        </li>
      

      

      
    
      

      
        <li class="nav-item">
          <a class="nav-link px-1 mx-1 py-3 my-n2" href="https://twitter.com/yamlnews/" target="_blank" rel="noopener" aria-label="Twitter"><svg xmlns="http://www.w3.org/2000/svg" class="navbar-nav-svg" viewBox="0 0 512 416.32" role="img" focusable="false"><title>Twitter</title><path fill="currentColor" d="M160.83 416.32c193.2 0 298.92-160.22 298.92-298.92 0-4.51 0-9-.2-13.52A214 214 0 0 0 512 49.38a212.93 212.93 0 0 1-60.44 16.6 105.7 105.7 0 0 0 46.3-58.19 209 209 0 0 1-66.79 25.37 105.09 105.09 0 0 0-181.73 71.91 116.12 116.12 0 0 0 2.66 24c-87.28-4.3-164.73-46.3-216.56-109.82A105.48 105.48 0 0 0 68 159.6a106.27 106.27 0 0 1-47.53-13.11v1.43a105.28 105.28 0 0 0 84.21 103.06 105.67 105.67 0 0 1-47.33 1.84 105.06 105.06 0 0 0 98.14 72.94A210.72 210.72 0 0 1 25 370.84a202.17 202.17 0 0 1-25-1.43 298.85 298.85 0 0 0 160.83 46.92"/></svg></a>
        </li>
      

      
    

  </ul>

</header>


    <div class="container-fluid">
      <div class="row flex-xl-nowrap">
        
          <div class="col-md-3 col-xl-2 bd-sidebar">
            <nav class="collapse bd-links" id="bd-docs-nav" aria-label="Main navigation"><div class="bd-toc-item active">
      <a class="bd-toc-link" href="/spec/rfc/overview">
        YAML RFCs
      </a>

      <ul class="nav bd-sidenav"><li>
            <a href="/spec/rfc/overview/">&nbsp;&nbsp;Overview</a>
          </li><li class="active bd-sidenav-active">
            <a href="/spec/rfc/rfc-0001/">&nbsp;&nbsp;RFC-0001</a>
          </li><li>
            <a href="/spec/rfc/rfc-0002/">&nbsp;&nbsp;RFC-0002</a>
          </li><li>
            <a href="/spec/rfc/rfc-0003/">&nbsp;&nbsp;RFC-0003</a>
          </li><li>
            <a href="/spec/rfc/rfc-0004/">&nbsp;&nbsp;RFC-0004</a>
          </li><li>
            <a href="/spec/rfc/rfc-0005/">&nbsp;&nbsp;RFC-0005</a>
          </li><li>
            <a href="/spec/rfc/rfc-0006/">&nbsp;&nbsp;RFC-0006</a>
          </li></ul>
    </div></nav>

          </div>
        

        
          <nav class="d-none d-xl-block col-xl-2 bd-toc" aria-label="Secondary navigation">
            <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#problem">Problem</a></li>
<li class="toc-entry toc-h2"><a href="#proposal">Proposal</a></li>
<li class="toc-entry toc-h2"><a href="#explanation">Explanation</a></li>
</ul>
          </nav>
        


        <main class="col-md-9 col-xl-8 py-md-3 pl-md-5 bd-content" role="main">
          <div class="d-md-flex flex-md-row-reverse align-items-center justify-content-between">
            
              <button class="btn bd-search-docs-toggle d-md-none p-0 ml-3" type="button" data-toggle="collapse" data-target="#bd-docs-nav" aria-controls="bd-docs-nav" aria-expanded="false" aria-label="Toggle docs navigation"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"/></svg></button>
            

            <a class="btn btn-sm btn-bd-light my-2 my-md-0"
               href="https://github.com/yaml/www.yaml.com/blob/master/src/spec/rfc/rfc-0001.md"
               title="View and edit this file on GitHub"
               target="_blank"
               rel="noopener"
            >
              <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-pencil-square" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
              </svg>
            </a>
            <h1 class="bd-title" id="content">RFC-0001</h1>
          </div>
          <p class="bd-lead">Empty-scalars not allowed as keys</p>
          <hr/>
          <ul>
  <li>Target YAML Version: <strong>Undecided</strong></li>
  <li>RFC Status: <strong>1</strong></li>
  <li><a href="https://github.com/yaml/yaml-spec/discussions/71">RFC Discussion</a></li>
  <li>Tags: <a href="https://github.com/yaml/yaml-test-suite/tree/master/test/tags/empty">empty</a> <a href="https://github.com/yaml/yaml-test-suite/tree/master/test/tags/key">key</a> <a href="https://github.com/yaml/yaml-test-suite/tree/master/test/tags/scalar">scalar</a></li>
  <li>Tests: <a href="https://github.com/yaml/yaml-test-suite/blob/master/test/2JQS.tml">2JQS</a> <a href="https://github.com/yaml/yaml-test-suite/blob/master/test/4ABK.tml">4ABK</a> <a href="https://github.com/yaml/yaml-test-suite/blob/master/test/6M2F.tml">6M2F</a> <a href="https://github.com/yaml/yaml-test-suite/blob/master/test/9MMW.tml">9MMW</a> <a href="https://github.com/yaml/yaml-test-suite/blob/master/test/FRK4.tml">FRK4</a> <a href="https://github.com/yaml/yaml-test-suite/blob/master/test/KZN9.tml">KZN9</a> <a href="https://github.com/yaml/yaml-test-suite/blob/master/test/NHX8.tml">NHX8</a> <a href="https://github.com/yaml/yaml-test-suite/blob/master/test/S3PD.tml">S3PD</a></li>
</ul>

<h2 id="problem">Problem</h2>

<p>YAML 1.2 allows “nothing” to be a valid value; a plain empty scalar that often is loaded as a null value.</p>

<p>The null value isn’t very useful as a mapping key, and using an empty value to specify it is confusing to read.</p>

<h2 id="proposal">Proposal</h2>

<p>Disallow (untagged) plain empty scalars as mapping keys.</p>

<h2 id="explanation">Explanation</h2>

<p>In YAML 1.2, the absence of any value is a valid plain scalar, and usually that loads to a native <code class="language-plaintext highlighter-rouge">null</code> value.</p>

<p>This can be used nicely to encode unspecified values:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>size: 5
shape:
color:
</code></pre></div></div>

<p>You can also use these “empty” values as mapping keys.
This means that <code class="language-plaintext highlighter-rouge">:</code> is same as <code class="language-plaintext highlighter-rouge">null: null</code>.</p>

<p>Using a null value as a mapping key is a rare thing for a program to do (if it is even allowed by the programming language).</p>

<p>Under this RFC you can still have a null key, but it needs to happen explicitly like in these examples:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- null: foo
- !!null : foo
- !null "": foo
- key: &amp;null !null
  *null : foo
</code></pre></div></div>

<p>The following will be parse errors:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- :
- : foo
- { : foo }
- &amp;x :
</code></pre></div></div>


        </main>
      </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery.slim.min.js"><\/script>')</script><script src="/dist/js/bootstrap.bundle.js"></script><script src="/assets/js/vendor/anchor.min.js"></script>
  <script src="/assets/js/vendor/clipboard.min.js"></script>
  <script src="/assets/js/vendor/bs-custom-file-input.min.js"></script>
  <script src="/assets/js/src/application.js"></script>
  <script src="/assets/js/src/search.js"></script>
  <script src="/assets/js/src/ie-emulation-modes-warning.js"></script>
  </body>
</html>
